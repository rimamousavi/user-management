{"version":3,"file":"index.2fa8e2fc830ca545c914.js","mappings":"sBAoBAA,SAASC,iBAAiB,mBAAoB,KAC5C,MAEMC,EAAc,IAAIC,EAFR,4DAIhB,IAAIC,EAAIF,KAGV,MAAMC,EACJ,WAAAE,CAAYC,GACVC,KAAKD,OAASA,CAChB,CAEA,cAAME,CAASC,EAAMC,EAAOC,EAASC,GACnCC,QAAQC,IAAIF,GAEZ,IAIE,MAAMG,EAAM,IAAIC,IAAIT,KAAKD,QACX,QAAVI,IAEED,GAAMM,EAAIE,aAAaC,OAAO,OAAQT,GAItCC,GAAOK,EAAIE,aAAaC,OAAO,QAASR,KAI9CC,EAAUA,GAAW,CAAC,GAGVQ,QAAQJ,EAAIE,aAAaC,OAAO,SAAUP,EAAQQ,QAG1DR,EAAQS,MAAML,EAAIE,aAAaC,OAAO,OAAQP,EAAQS,MAGtDT,EAAQU,QAAQN,EAAIE,aAAaC,OAAO,SAAUP,EAAQU,QAG1DT,GAAQA,EAAKU,SACfP,EAAIE,aAAaC,OAAO,SAAUN,EAAKU,QAEnCV,EAAKW,OACPR,EAAIE,aAAaC,OAAO,QAASN,EAAKW,QAK1C,MAAMC,QAAiBC,MAAMV,EAAIW,YAG3BC,QAAcH,EAASI,OAKvBC,EAAW,IAAIb,IAAIT,KAAKD,QAI1BK,EAAQQ,QACVU,EAASZ,aAAaC,OAAO,SAAUP,EAAQQ,QAG7CR,EAAQS,MAAMS,EAASZ,aAAaC,OAAO,OAAQP,EAAQS,MAG3DT,EAAQU,QACVQ,EAASZ,aAAaC,OAAO,SAAUP,EAAQU,QAGjD,MAAMS,QAAyBL,MAAMI,EAASH,YAGxCK,QAAiBD,EAAiBF,OAMxC,MAAO,CAAED,QAAOK,WAHGC,MAAMC,QAAQH,GAAYA,EAASI,OAAS,EAMjE,CAAE,MAAOC,GAKP,OAHAvB,QAAQuB,MAAM,wBAAyBA,GAGhC,CAAET,MAAO,GAAIK,WAAY,EAClC,CACF,CAEA,kBAAMK,CAAaC,GACjB,IACE,MAAMd,QAAiBC,MAAM,GAAGlB,KAAKD,UAAUgC,KAC/C,aAAad,EAASI,MACxB,CAAE,MAAOQ,GAEP,OADAvB,QAAQuB,MAAM,uBAAwBA,GAC/B,IACT,CACF,CAEA,aAAMG,CAAQC,GACZ,IACE,MAAMhB,QAAiBC,MAAMlB,KAAKD,OAAQ,CACxCmC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUL,KAEvB,aAAahB,EAASI,MACxB,CAAE,MAAOQ,GACPvB,QAAQuB,MAAM,qBAAsBA,EACtC,CACF,CAEA,gBAAMU,CAAWR,EAAQE,GACvB,IACE,MAAMhB,QAAiBC,MAAM,GAAGlB,KAAKD,UAAUgC,IAAU,CACvDG,OAAQ,MACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUL,KAEvB,aAAahB,EAASI,MACxB,CAAE,MAAOQ,GACPvB,QAAQuB,MAAM,uBAAwBA,EACxC,CACF,CAEA,gBAAMW,CAAWT,GACf,IAIE,aAHuBb,MAAM,GAAGlB,KAAKD,UAAUgC,IAAU,CACvDG,OAAQ,YAEMO,EAClB,CAAE,MAAOZ,GAEP,OADAvB,QAAQuB,MAAM,uBAAwBA,IAC/B,CACT,CACF,EAGF,MAAMhC,EACJ,WAAAC,CAAYH,GACVK,KAAKL,YAAcA,EACnBK,KAAK0C,gBAAkB,IAAIC,IAC3B3C,KAAK4C,eAAiB,GACtB5C,KAAK6C,YAAc,EACnB7C,KAAK8C,aAAe,EACpB9C,KAAK+C,WAAa,EAClB/C,KAAKgD,YAAa,EAClBhD,KAAKiD,cAAgB,KACrBjD,KAAKkD,eAAiB,CAAEtC,OAAQ,GAAIC,KAAM,GAAIC,OAAQ,IACtDd,KAAKmD,YAAc,CAAEpC,OAAQ,YAAaC,MAAO,OAEjDhB,KAAKoD,mBACLpD,KAAKqD,sBACLrD,KAAKsD,cACP,CACA,gBAAAF,GACEpD,KAAKuD,kBAAoB9D,SAAS+D,eAAe,uBACjDxD,KAAKyD,WAAahE,SAAS+D,eAAe,eAC1CxD,KAAK0D,QAAUjE,SAAS+D,eAAe,YACvCxD,KAAKK,KAAOZ,SAAS+D,eAAe,QACpCxD,KAAK2D,YAAclE,SAAS+D,eAAe,UAC3CxD,KAAK4D,YAAcnE,SAAS+D,eAAe,gBAC3CxD,KAAK6D,aAAepE,SAAS+D,eAAe,iBAC5CxD,KAAK8D,WAAarE,SAAS+D,eAAe,eAC1CxD,KAAK+D,UAAYtE,SAAS+D,eAAe,aACzCxD,KAAKgE,SAAWvE,SAAS+D,eAAe,YACxCxD,KAAKiE,WAAajE,KAAK+D,UAAUG,cAAc,MAC/ClE,KAAKmE,aAAe1E,SAAS+D,eAAe,UAC5CxD,KAAKoE,aAAe3E,SAAS+D,eAAe,gBAC5CxD,KAAKqE,UAAY5E,SAAS+D,eAAe,aACzCxD,KAAKsE,cAAgB7E,SAASyE,cAAc,eAC5ClE,KAAKuE,QAAU9E,SAAS+D,eAAe,YACvCxD,KAAKwE,QAAU/E,SAAS+D,eAAe,YACvCxD,KAAKyE,qBAAuBhF,SAAS+D,eACnC,0BAEFxD,KAAK0E,kBAAoBjF,SAAS+D,eAAe,qBACnD,CACA,mBAAAH,GACErD,KAAKuD,kBAAkB7D,iBAAiB,SAAWiF,GACjD3E,KAAK4E,iBAAiBD,IAExB3E,KAAKyD,WAAW/D,iBAAiB,QAAS,IACxCM,KAAK6E,yBAEP7E,KAAK0D,QAAQhE,iBAAiB,SAAWoF,GAAM9E,KAAK+E,cAAcD,IAClE9E,KAAKK,KAAKX,iBAAiB,SAAWoF,GAAM9E,KAAKgF,YAAYF,IAC7D9E,KAAK2D,YAAYjE,iBACf,QArNN,SAAkBuF,GAChB,IAAIC,EAGJ,OAAO,YAAaC,GAGlBC,aAAaF,GAGbA,EAAYG,WAAW,KAGrBJ,EAAKK,MAAMtF,KAAMmF,IAyM4B,IAvMjD,CACF,CAsMMI,CAAUT,GAAM9E,KAAKwF,oBAAoBV,KAE3C9E,KAAK4D,YAAYlE,iBAAiB,SAAWoF,GAC3C9E,KAAKwF,oBAAoBV,IAE3B9E,KAAK6D,aAAanE,iBAAiB,SAAWoF,GAC5C9E,KAAKwF,oBAAoBV,IAE3B9E,KAAK8D,WAAWpE,iBAAiB,QAAS,IAAMM,KAAKyF,UAAU,QAC/DzF,KAAKoE,aAAa1E,iBAAiB,QAAS,IAAMM,KAAK0F,cACvD1F,KAAKqE,UAAU3E,iBAAiB,QAAS,IAAMM,KAAK0F,cACpD1F,KAAK+D,UAAUrE,iBAAiB,QAAUoF,IACpCA,EAAEa,SAAW3F,KAAK+D,WAAW/D,KAAK0F,eAExC1F,KAAKgE,SAAStE,iBAAiB,SAAWoF,GAAM9E,KAAK4F,iBAAiBd,IACtE9E,KAAKsE,cAAc5E,iBAAiB,QAAUoF,GAC5C9E,KAAK6F,iBAAiBf,IAExB9E,KAAKuE,QAAQ7E,iBAAiB,QAAS,IAAMM,KAAK8F,gBAClD9F,KAAKwE,QAAQ9E,iBAAiB,QAAS,IAAMM,KAAK+F,gBAClD/F,KAAKyE,qBAAqB/E,iBAAiB,QAAUoF,GACnD9E,KAAKgG,sBAAsBlB,IAE7B9E,KAAKsE,cAAc5E,iBAAiB,SAAWoF,IACzCA,EAAEa,OAAOM,UAAUC,SAAS,iBAC9BlG,KAAKmG,oBAAoBrB,EAAEa,SAGjC,CAEA,WAAAX,CAAYF,GACV,MAAMsB,EAAQtB,EAAEa,OAAOS,MACvB9F,QAAQC,IAAI6F,EAAMC,MAAM,MAExB,MAAOtF,EAAQC,GAASoF,EAAMC,MAAM,KACpCrG,KAAKmD,YAAc,CAAEpC,SAAQC,SAC7BhB,KAAK6C,YAAc,EACnB7C,KAAKsD,cACP,CACA,mBAAAkC,CAAoBV,GAClB,MAAMwB,EAAgBxB,EAAEa,OAClBY,EAAYD,EAAcE,KAC1BC,EAAcH,EAAcF,MAAMM,OACxC1G,KAAKkD,eAAeqD,GAAaE,EACjCzG,KAAK6C,YAAc,EACnB7C,KAAKsD,cACP,CACA,aAAAyB,CAAcD,GACZ,IACE,MAAMsB,EAAQtB,EAAEa,OAAOS,MACvB9F,QAAQC,IAAI6F,GACZpG,KAAK8C,aAAesD,EACpBpG,KAAK6C,YAAc,EACnB7C,KAAKsD,cACP,CAAE,MAAOzB,GACPvB,QAAQC,IAAIsB,EACd,CACF,CACA,eAAM4D,CAAUkB,EAAM5E,EAAS,MAK7B,GAJA/B,KAAKgD,WAAsB,SAAT2D,EAClB3G,KAAKiD,cAAgBlB,EACrB/B,KAAKgE,SAAS4C,QAEV5G,KAAKgD,WAAY,CACnBhD,KAAKiE,WAAW4C,YAAc,YAC9B7G,KAAKmE,aAAa0C,YAAc,eAChC,MAAMC,QAAmB9G,KAAKL,YAAYmC,aAAaC,GACnD+E,IACFrH,SAAS+D,eAAe,YAAY4C,MAAQU,EAAWN,KACvD/G,SAAS+D,eAAe,SAAS4C,MAAQU,EAAWC,MACpDtH,SAAS+D,eAAe,SAAS4C,MAAQU,EAAWE,MACpDvH,SAAS+D,eAAe,QAAQ4C,MAAQU,EAAWjG,KACnDpB,SAAS+D,eAAe,mBAAmB4C,MAAQU,EAAWhG,OAElE,MACEd,KAAKiE,WAAW4C,YAAc,eAC9B7G,KAAKmE,aAAa0C,YAAc,WAElC7G,KAAK+D,UAAUkC,UAAUgB,OAAO,SAClC,CACA,UAAAvB,GACE1F,KAAK+D,UAAUkC,UAAUiB,IAAI,SAC/B,CACA,kBAAM5D,GACJtD,KAAKsE,cAAc6C,UAAY,mEAC/B,MAAM,MAAE/F,EAAK,WAAEK,SAAqBzB,KAAKL,YAAYM,SACnDD,KAAK6C,YACL7C,KAAK8C,aACL9C,KAAKkD,eACLlD,KAAKmD,aAKP,GAHAnD,KAAK4C,eAAiBxB,EACtBpB,KAAK+C,WAAatB,EAEG,IAAjBL,EAAMQ,QAAgB5B,KAAK6C,YAAc,EAC3C7C,KAAKoH,SAASpH,KAAK6C,YAAc,OADnC,CAIA,GAAqB,IAAjBzB,EAAMQ,OAGR,OAFA5B,KAAKsE,cAAc6C,UAAY,6EAC/BnH,KAAKqH,mBAGPrH,KAAKsH,YAAYlG,GACjBpB,KAAKqH,kBAPL,CAQF,CACA,WAAAC,CAAYlG,GACV,IACE,IAAKA,GAA0B,IAAjBA,EAAMQ,OAElB,YADA5B,KAAKsE,cAAc6C,UAAY,yEAIjC,MAAMI,EAAWnG,GAAOoG,IAAKC,IAC3B,MAAMC,GAA2B,IAAhBD,EAAK3G,OAChB6G,EAAWF,EAAKjB,KACnBH,MAAM,KACNmB,IAAKI,GAAMA,EAAE,IACbC,KAAK,IACLC,cACH,MAAO,wNAKiBL,EAAKM,kGAGnB/H,KAAK0C,gBAAgBsF,IAAIP,EAAKM,IAAM,UAAY,gYAOiCJ,+GAGrCF,EAAKjB,gFACCiB,EAAKV,gFACNU,EAAKT,ucAGxDS,EAAK5G,KAAKoH,OAAO,GAAGH,cAAgBL,EAAK5G,KAAKqH,MAAM,yNAMlCT,EAAKM,kBAAkBN,EAAKjB,6CAA6CkB,EAAW,UAAY,ghBAIhHA,EAAW,SAAW,0IAIyBD,EAAKU,UAAUD,MAAM,EAAG,IAAM,MAAQT,EAAKU,UAAUD,MAAM,GAAI,6uBAGkaT,EAAKM,iiBAGpgBN,EAAKjB,ifAAifiB,EAAKM,8jBAQxhB/H,KAAKsE,cAAc6C,UAAYI,EAASM,KAAK,GAC/C,CAAE,MAAOhG,GACP7B,KAAKsE,cAAc6C,UAAY,uEACjC,CACF,CAEA,qBAAAnB,CAAsBrB,GACpB,MAAMyD,EAAazD,EAAMgB,OAAO0C,QAAQ,oBACxC,GAAID,EAAY,CACd,MAAMlI,EAAOoI,SAASF,EAAWG,QAAQrI,MACzCF,KAAKoH,SAASlH,EAChB,CACF,CACA,YAAA4F,GACM9F,KAAK6C,YAAc,GACrB7C,KAAKoH,SAASpH,KAAK6C,YAAc,EAErC,CACA,YAAAkD,GACE,MAAMyC,EAAaC,KAAKC,KAAK1I,KAAK+C,WAAa/C,KAAK8C,cAChD9C,KAAK6C,YAAc2F,GACrBxI,KAAKoH,SAASpH,KAAK6C,YAAc,EAErC,CACA,QAAAuE,CAASlH,GACPF,KAAK6C,YAAc3C,EACnBF,KAAKsD,cACP,CACA,gBAAA+D,GACE,MAAMmB,EAAaC,KAAKC,KAAK1I,KAAK+C,WAAa/C,KAAK8C,cACpD9C,KAAKyE,qBAAqB0C,UAAY,GAGtC,IAAK,IAAIwB,EAAI,EAAGA,GAAKH,EAAYG,IAAK,CACpC,MAAMC,EAASnJ,SAASoJ,cAAc,UACtCD,EAAO/B,YAAc8B,EACrBC,EAAOL,QAAQrI,KAAOyI,EACtBC,EAAOE,UAAY,sCAAqCH,IAAM3I,KAAK6C,YAAc,cAAgB,IACjG7C,KAAKyE,qBAAqBsE,YAAYH,EACxC,CAOA,GAJA5I,KAAKuE,QAAQyE,SAAgC,IAArBhJ,KAAK6C,YAC7B7C,KAAKwE,QAAQwE,SAAWhJ,KAAK6C,cAAgB2F,GAA6B,IAAfA,EAGnC,IAApBxI,KAAK+C,WACP/C,KAAK0E,kBAAkBmC,YAAc,+BAChC,CACL,MAAMoC,GAASjJ,KAAK6C,YAAc,GAAK7C,KAAK8C,aAAe,GAAK,EAC1DoG,EACJT,KAAKU,IAAIF,EAAQjJ,KAAK8C,aAAe,EAAG9C,KAAK+C,aAC7C/C,KAAK+C,WACP/C,KAAK0E,kBAAkBmC,YAAc,WAAW7G,KAAK+C,WAAa,EAAIkG,EAAQ,OAAOC,QAAUlJ,KAAK+C,kBACtG,CACF,CAEA,sBAAM6C,CAAiBjB,GACrBA,EAAMyE,iBAEN,MAAMC,EAAc5J,SAAS+D,eAAe,mBAAmB4C,MAC/D9F,QAAQC,IAAI8I,GAEZ,MAAMC,EAAW,CACf9C,KAAM/G,SAAS+D,eAAe,YAAY4C,MAC1CW,MAAOtH,SAAS+D,eAAe,SAAS4C,MACxCY,MAAOvH,SAAS+D,eAAe,SAAS4C,MACxCvF,KAC4C,kBAA1CpB,SAAS+D,eAAe,QAAQ4C,MAC5B,OACA3G,SAAS+D,eAAe,QAAQ4C,MACtCtF,OAAwB,SAAhBuI,GAEVrJ,KAAKmE,aAAa6E,UAAW,EAEzBhJ,KAAKgD,iBACDhD,KAAKL,YAAY4C,WAAWvC,KAAKiD,cAAeqG,UAEhDtJ,KAAKL,YAAYqC,QAAQsH,GAC/BtJ,KAAK6C,YAAc4F,KAAKC,MAAM1I,KAAK+C,WAAa,GAAK/C,KAAK8C,eAG5D9C,KAAKmE,aAAa6E,UAAW,EAC7BhJ,KAAK0F,mBACC1F,KAAKsD,cACb,CACA,sBAAMuC,CAAiBlB,GACrB,MAAM4E,EAAU5E,EAAMgB,OAAO0C,QAAQ,aAC/BmB,EAAY7E,EAAMgB,OAAO0C,QAAQ,eACjCoB,EAAc9E,EAAMgB,OAAO0C,QAAQ,eAEzC,GAAIkB,EAAS,CACX,MAAMxH,EAASwH,EAAQhB,QAAQR,GAE/B,YADA/H,KAAKyF,UAAU,OAAQ1D,EAEzB,CAEA,GAAIyH,EAAW,CACb,MAAMzH,EAASyH,EAAUjB,QAAQR,GAC3B2B,EAAWF,EAAUjB,QAAQ/B,KAKnC,YAJImD,QAAQ,mCAAmCD,cACvC1J,KAAKL,YAAY6C,WAAWT,SAC5B/B,KAAKsD,gBAGf,CAEA,GAAImG,EAAa,CACf,MAAM1H,EAAS0H,EAAYlB,QAAQR,GAC7B6B,EAAYH,EAAYI,QACxBH,EAAWD,EAAYlB,QAAQ/B,KAYrC,YAVEmD,QACE,4BAA4BC,EAAY,SAAW,cAAcF,cAG7D1J,KAAKL,YAAY4C,WAAWR,EAAQ,CAAEjB,OAAQ8I,UAE9C5J,KAAKsD,gBAEXmG,EAAYI,SAAWD,EAG3B,CACF,CACA,mBAAAzD,CAAoB2D,GAClB,MAAM/H,EAAS+H,EAASvB,QAAQxG,OACd+H,EAASD,QAGzB7J,KAAK0C,gBAAgBwE,IAAInF,GAEzB/B,KAAK0C,gBAAgBqH,OAAOhI,EAEhC,CA6CA,qBAAA8C,GACE,MAAMmF,EAAevK,SAASwK,iBAAiB,yBAE/C,GAA4B,IAAxBD,EAAapI,OAEf,YADAsI,MAAM,+CAIR,MAAMxH,EAAkBhB,MAAMyI,KAAKH,GAAcxC,IAC9CsC,GAAaA,EAASvB,QAAQxG,QAO3BqI,EAJgBpK,KAAK4C,eAAeyH,OAAQ5C,GAChD/E,EAAgB4H,SAAS7C,EAAKM,KAGGP,IAAKC,IAAS,CAC/C8C,KAAM9C,EAAKjB,KACXgE,MAAO/C,EAAKV,MACZ0D,MAAOhD,EAAKT,MACZ0D,KAAMjD,EAAK5G,KACX8J,OAAQlD,EAAK3G,OAAS,SAAW,WACjC8J,UAAW,IAAIC,KAAKpD,EAAKU,WAAW2C,oBAGhCC,EAAU1I,KAAKC,UAAU8H,EAAc,KAAM,GAC7CY,EAAO,IAAIC,KAAK,CAACF,GAAU,CAAEG,KAAM,qBACnC1K,EAAMC,IAAI0K,gBAAgBH,GAC1BI,EAAI3L,SAASoJ,cAAc,KACjCuC,EAAEC,KAAO7K,EACT4K,EAAEE,SAAW,gBAAgBT,KAAKU,aAClC9L,SAAS2C,KAAK2G,YAAYqC,GAC1BA,EAAEI,QACFJ,EAAEnE,SACFxG,IAAIgL,gBAAgBjL,EACtB,CACA,gBAAAoE,CAAiBD,GACf,MAAM+G,EAAY/G,EAAMgB,OAAOkE,QAI7B7J,KAAKsE,cAAc2F,iBAAiB,iBAErB0B,QAAS7B,IAExBA,EAASD,QAAU6B,EAEnB,MAAM3J,EAAS+H,EAASvB,QAAQxG,OAG5B2J,EACF1L,KAAK0C,gBAAgBwE,IAAInF,GAEzB/B,KAAK0C,gBAAgBqH,OAAOhI,KAIhCzB,QAAQC,IAAI,iCAAkCP,KAAK0C,gBACrD,E,GC/mBEkJ,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,CAAC,GAOX,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,OACf,CCrBAJ,EAAoBjE,EAAKsE,IACxB,IAAIE,EAASF,GAAUA,EAAOG,WAC7B,IAAOH,EAAiB,QACxB,IAAM,EAEP,OADAL,EAAoBS,EAAEF,EAAQ,CAAEhB,EAAGgB,IAC5BA,GCLRP,EAAoBS,EAAI,CAACL,EAASM,KACjC,IAAI,IAAIC,KAAOD,EACXV,EAAoBY,EAAEF,EAAYC,KAASX,EAAoBY,EAAER,EAASO,IAC5EE,OAAOC,eAAeV,EAASO,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3EX,EAAoBY,EAAI,CAACK,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,G","sources":["webpack://user-management/./src/js/app.js","webpack://user-management/webpack/bootstrap","webpack://user-management/webpack/runtime/compat get default export","webpack://user-management/webpack/runtime/define property getters","webpack://user-management/webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["// import * as XLSX from \"sheetjs\";\n\nfunction debounce(func, delay) {\n  let timeoutId;\n\n  // تابع جدیدی که برگردانده می‌شود\n  return function (...args) {\n    // هر بار که این تابع (مثلا با هر بار تایپ) اجرا می‌شود،\n    // تایمر قبلی را پاک می‌کنیم.\n    clearTimeout(timeoutId);\n\n    // یک تایمر جدید تنظیم می‌کنیم.\n    timeoutId = setTimeout(() => {\n      // فقط زمانی که تایمر تمام شد (یعنی کاربر تایپ را متوقف کرد)،\n      // تابع اصلی (func) را اجرا کن.\n      func.apply(this, args);\n    }, delay);\n  };\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const API_URL = \"https://693e775f12c964ee6b6d71d4.mockapi.io/api/v1/users\";\n\n  const userService = new UserService(API_URL);\n\n  new App(userService);\n});\n\nclass UserService {\n  constructor(apiUrl) {\n    this.apiUrl = apiUrl;\n  }\n\n  async getUsers(page, limit, filters, sort) {\n    console.log(sort);\n    // شروع یک بلوک try-catch برای مدیریت خطاهای احتمالی (مانند قطع بودن شبکه).\n    try {\n      // ---- مرحله ۱: دریافت کاربران برای نمایش در صفحه فعلی ----\n\n      // یک آبجکت URL از آدرس پایه API می‌سازیم تا بتوانیم پارامترها را به راحتی به آن اضافه کنیم.\n      const url = new URL(this.apiUrl);\n      if (limit !== \"all\") {\n        // اگر شماره صفحه‌ای (page) به تابع داده شده، آن را به عنوان پارامتر به URL اضافه کن (مثلاً: ?page=2).\n        if (page) url.searchParams.append(\"page\", page);\n\n        // اگر محدودیتی (limit) برای تعداد آیتم‌ها در هر صفحه داده شده، آن را هم به URL اضافه کن (مثلاً: &limit=5).\n        // if (limit) url.searchParams.append(\"limit\", limit);\n        if (limit) url.searchParams.append(\"limit\", limit);\n      }\n\n      // (کد محافظ) اگر هیچ فیلتری به تابع پاس داده نشده بود (مقدارش undefined بود)، آن را به یک آبجکت خالی تبدیل کن تا در خطوط بعدی خطا ندهد.\n      filters = filters || {};\n\n      // اگر در آبجکت فیلترها، مقداری برای 'search' وجود داشت، آن را به پارامترهای URL اضافه کن.\n      if (filters.search) url.searchParams.append(\"search\", filters.search);\n\n      // اگر در آبجکت فیلترها، مقداری برای 'role' وجود داشت، آن را به پارامترهای URL اضافه کن.\n      if (filters.role) url.searchParams.append(\"role\", filters.role);\n\n      // اگر در آبجکت فیلترها، مقداری برای 'status' وجود داشت، آن را به پارامترهای URL اضافه کن.\n      if (filters.status) url.searchParams.append(\"status\", filters.status);\n\n      // این پارامترها فقط روی fetch اول تاثیر دارند، چون ترتیب در شمارش کل مهم نیست.\n      if (sort && sort.sortBy) {\n        url.searchParams.append(\"sortBy\", sort.sortBy);\n        // پارامتر order اختیاری است، اما ما آن را هم اضافه می‌کنیم.\n        if (sort.order) {\n          url.searchParams.append(\"order\", sort.order);\n        }\n      }\n\n      // درخواست اول را به API ارسال کن (با تمام پارامترها) و منتظر پاسخ بمان.\n      const response = await fetch(url.toString());\n\n      // پاسخ را از فرمت JSON به یک آرایه جاوااسکریپت تبدیل کن. این آرایه فقط شامل کاربران صفحه فعلی است.\n      const users = await response.json();\n\n      // ---- مرحله ۲: محاسبه تعداد کل کاربران منطبق با فیلترها ----\n\n      // یک آبجکت URL جدید برای درخواست دوم می‌سازیم. این درخواست برای شمارش تعداد کل است.\n      const countUrl = new URL(this.apiUrl);\n\n      // (مهم) دوباره همان فیلترها را روی این URL جدید هم اعمال می‌کنیم تا شمارش ما دقیق باشد.\n      // اگر فیلتر 'search' وجود داشت، آن را اضافه کن.\n      if (filters.search)\n        countUrl.searchParams.append(\"search\", filters.search);\n\n      // اگر فیلتر 'role' وجود داشت،آن را به پارامترهای URL اضافه کن.\n      if (filters.role) countUrl.searchParams.append(\"role\", filters.role);\n\n      // اگر فیلتر 'status' وجود داشت، آن را به پارامترهای URL اضافه کن.\n      if (filters.status)\n        countUrl.searchParams.append(\"status\", filters.status);\n\n      // درخواست دوم را ارسال کن (این بار بدون page و limit) تا *تمام* کاربران منطبق با فیلترها را بگیریم.\n      const allUsersResponse = await fetch(countUrl.toString());\n\n      // پاسخ دوم را به آرایه جاوااسکریپت تبدیل کن. این آرایه شامل همه کاربران فیلتر شده است.\n      const allUsers = await allUsersResponse.json();\n\n      // (محاسبه نهایی) چک کن آیا 'allUsers' یک آرایه است؟ اگر بله، طول (تعداد اعضای) آن را در totalCount بریز. اگر نه، مقدار 0 را قرار بده.\n      const totalCount = Array.isArray(allUsers) ? allUsers.length : 0;\n\n      // یک آبجکت شامل هر دو نتیجه (لیست کاربران صفحه فعلی و تعداد کل) را برگردان.\n      return { users, totalCount };\n\n      // اگر در هر یک از مراحل بالا خطایی رخ داد...\n    } catch (error) {\n      // خطا را در کنسول نمایش بده تا برنامه‌نویس آن را ببیند.\n      console.error(\"Error fetching users:\", error);\n\n      // یک نتیجه خالی برگردان تا برنامه کرش نکند و UI بتواند وضعیت \"بدون کاربر\" را نمایش دهد.\n      return { users: [], totalCount: 0 };\n    }\n  }\n\n  async findUserById(userId) {\n    try {\n      const response = await fetch(`${this.apiUrl}/${userId}`);\n      return await response.json();\n    } catch (error) {\n      console.error(\"Error fetching user:\", error);\n      return null;\n    }\n  }\n\n  async addUser(userData) {\n    try {\n      const response = await fetch(this.apiUrl, {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify(userData),\n      });\n      return await response.json();\n    } catch (error) {\n      console.error(\"Error adding user:\", error);\n    }\n  }\n\n  async updateUser(userId, userData) {\n    try {\n      const response = await fetch(`${this.apiUrl}/${userId}`, {\n        method: \"PUT\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify(userData),\n      });\n      return await response.json();\n    } catch (error) {\n      console.error(\"Error updating user:\", error);\n    }\n  }\n\n  async deleteUser(userId) {\n    try {\n      const response = await fetch(`${this.apiUrl}/${userId}`, {\n        method: \"DELETE\",\n      });\n      return response.ok;\n    } catch (error) {\n      console.error(\"Error deleting user:\", error);\n      return false;\n    }\n  }\n}\n\nclass App {\n  constructor(userService) {\n    this.userService = userService;\n    this.selectedUserIds = new Set();\n    this.displayedUsers = [];\n    this.currentPage = 1;\n    this.itemsPerPage = 5;\n    this.totalUsers = 0;\n    this.isEditMode = false;\n    this.editingUserId = null;\n    this.currentFilters = { search: \"\", role: \"\", status: \"\" };\n    this.currentSort = { sortBy: \"createdAt\", order: \"asc\" };\n\n    this._initDOMElements();\n    this._initEventListeners();\n    this.displayUsers();\n  }\n  _initDOMElements() {\n    this.selectAllCheckbox = document.getElementById(\"select-all-checkbox\");\n    this.extractBtn = document.getElementById(\"extract-btn\");\n    this.perPage = document.getElementById(\"per-page\");\n    this.sort = document.getElementById(\"sort\");\n    this.searchInput = document.getElementById(\"search\");\n    this.rolesFilter = document.getElementById(\"roles-filter\");\n    this.statusFilter = document.getElementById(\"status-filter\");\n    this.addUserBtn = document.getElementById(\"openFormBtn\");\n    this.userModal = document.getElementById(\"userModal\");\n    this.userForm = document.getElementById(\"userForm\");\n    this.modalTitle = this.userModal.querySelector(\"h2\");\n    this.submitButton = document.getElementById(\"submit\");\n    this.closeFormBtn = document.getElementById(\"closeFormBtn\");\n    this.cancelBtn = document.getElementById(\"cancelBtn\");\n    this.userTableBody = document.querySelector(\"table tbody\");\n    this.prevBtn = document.getElementById(\"prev-btn\");\n    this.nextBtn = document.getElementById(\"next-btn\");\n    this.pageButtonsContainer = document.getElementById(\n      \"page-buttons-container\"\n    );\n    this.paginationSummary = document.getElementById(\"pagination-summary\");\n  }\n  _initEventListeners() {\n    this.selectAllCheckbox.addEventListener(\"change\", (event) =>\n      this._handleSelectAll(event)\n    );\n    this.extractBtn.addEventListener(\"click\", () =>\n      this._extractSelectedUsers()\n    );\n    this.perPage.addEventListener(\"change\", (e) => this._ItemsPerPage(e));\n    this.sort.addEventListener(\"change\", (e) => this._handleSort(e));\n    this.searchInput.addEventListener(\n      \"input\",\n      debounce((e) => this._handleFilterChange(e), 800)\n    );\n    this.rolesFilter.addEventListener(\"change\", (e) =>\n      this._handleFilterChange(e)\n    );\n    this.statusFilter.addEventListener(\"change\", (e) =>\n      this._handleFilterChange(e)\n    );\n    this.addUserBtn.addEventListener(\"click\", () => this.openModal(\"add\"));\n    this.closeFormBtn.addEventListener(\"click\", () => this.closeModal());\n    this.cancelBtn.addEventListener(\"click\", () => this.closeModal());\n    this.userModal.addEventListener(\"click\", (e) => {\n      if (e.target === this.userModal) this.closeModal();\n    });\n    this.userForm.addEventListener(\"submit\", (e) => this.handleFormSubmit(e));\n    this.userTableBody.addEventListener(\"click\", (e) =>\n      this.handleTableClick(e)\n    );\n    this.prevBtn.addEventListener(\"click\", () => this.goToPrevPage());\n    this.nextBtn.addEventListener(\"click\", () => this.goToNextPage());\n    this.pageButtonsContainer.addEventListener(\"click\", (e) =>\n      this.handlePageNumberClick(e)\n    );\n    this.userTableBody.addEventListener(\"change\", (e) => {\n      if (e.target.classList.contains(\"row-checkbox\")) {\n        this._handleRowSelection(e.target);\n      }\n    });\n  }\n\n  _handleSort(e) {\n    const value = e.target.value;\n    console.log(value.split(\"_\"));\n\n    const [sortBy, order] = value.split(\"_\");\n    this.currentSort = { sortBy, order };\n    this.currentPage = 1;\n    this.displayUsers();\n  }\n  _handleFilterChange(e) {\n    const selectElement = e.target;\n    const filterKey = selectElement.name;\n    const filterValue = selectElement.value.trim();\n    this.currentFilters[filterKey] = filterValue;\n    this.currentPage = 1;\n    this.displayUsers();\n  }\n  _ItemsPerPage(e) {\n    try {\n      const value = e.target.value;\n      console.log(value);\n      this.itemsPerPage = value;\n      this.currentPage = 1;\n      this.displayUsers();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  async openModal(mode, userId = null) {\n    this.isEditMode = mode === \"edit\";\n    this.editingUserId = userId;\n    this.userForm.reset();\n\n    if (this.isEditMode) {\n      this.modalTitle.textContent = \"Edit User\";\n      this.submitButton.textContent = \"Save Changes\";\n      const userToEdit = await this.userService.findUserById(userId);\n      if (userToEdit) {\n        document.getElementById(\"fullName\").value = userToEdit.name;\n        document.getElementById(\"email\").value = userToEdit.email;\n        document.getElementById(\"phone\").value = userToEdit.phone;\n        document.getElementById(\"role\").value = userToEdit.role;\n        document.getElementById(\"status-in-modal\").value = userToEdit.status;\n      }\n    } else {\n      this.modalTitle.textContent = \"Add New User\";\n      this.submitButton.textContent = \"Add User\";\n    }\n    this.userModal.classList.remove(\"hidden\");\n  }\n  closeModal() {\n    this.userModal.classList.add(\"hidden\");\n  }\n  async displayUsers() {\n    this.userTableBody.innerHTML = `<tr><td colspan=\"9\" class=\"text-center p-4\">Loading...</td></tr>`;\n    const { users, totalCount } = await this.userService.getUsers(\n      this.currentPage,\n      this.itemsPerPage,\n      this.currentFilters,\n      this.currentSort\n    );\n    this.displayedUsers = users;\n    this.totalUsers = totalCount;\n\n    if (users.length === 0 && this.currentPage > 1) {\n      this.goToPage(this.currentPage - 1);\n      return;\n    }\n    if (users.length === 0) {\n      this.userTableBody.innerHTML = `<tr><td colspan=\"9\" class=\"text-center p-4\">No users found.</td></tr>`;\n      this.renderPagination();\n      return;\n    }\n    this.updateTable(users);\n    this.renderPagination();\n  }\n  updateTable(users) {\n    try {\n      if (!users || users.length === 0) {\n        this.userTableBody.innerHTML = `<tr><td colspan=\"9\" class=\"text-center p-4\">No users found.</td></tr>`;\n        return;\n      }\n\n      const rowsHtml = users?.map((user) => {\n        const isActive = user.status === true;\n        const initials = user.name\n          .split(\" \")\n          .map((n) => n[0])\n          .join(\"\")\n          .toUpperCase();\n        return `\n        <tr class=\"hover:bg-gray-50 [&_tr:last-child]:border-0\">\n          <td data-label=\"Select\" class=\"td\">\n            <label class=\"check-container\">\n              <input \n                data-user-id=\"${user.id}\" \n                class=\"row-checkbox\" \n                type=\"checkbox\" \n                ${this.selectedUserIds.has(user.id) ? \"checked\" : \"\"}\n              />\n              <span class=\"checkbox\"></span>\n            </label>\n          </td>\n          <td data-label=\"Profile\" class=\"text-left p-4 text-sm font-light td\">\n            <span class=\"relative flex size-10 shrink-0 overflow-hidden rounded-full w-8 h-8\">\n              <span class=\"bg-[--muted] flex size-full items-center justify-center rounded-full\">${initials}</span>\n            </span>\n          </td>\n          <td data-label=\"Full Name\" class=\"td font-medium\">${user.name}</td>\n          <td data-label=\"Email Address\" class=\"td text-gray-600\">${user.email}</td>\n          <td data-label=\"Phone Number\" class=\"td text-gray-600\">${user.phone}</td>\n          <td data-label=\"Role\" class=\"td\">\n            <span class=\"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 gap-1 focus-visible:border-[--ring] focus-visible:ring-[#a1a1a1]/50 focus-visible:ring-[3px] transition-[color,box-shadow] overflow-hidden border-transparent bg-[--primary] text-[--primary-foreground] [a&]:hover:bg-[--primary]/90\">\n              ${user.role.charAt(0).toUpperCase() + user.role.slice(1)}\n            </span>\n          </td>\n          <td data-label=\"Status\" class=\"td\">\n            <div class=\"flex items-center space-x-2\">\n              <label class=\"switch\">\n                <input data-id=\"${user.id}\" data-name=\"${user.name}\"  class=\"switch-btn\" type=\"checkbox\" ${isActive ? \"checked\" : \" \"} />\n                <span class=\"slider round\"></span>\n              </label>\n              <span class=\"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 gap-1 focus-visible:border-[--ring] focus-visible:ring-[#a1a1a1]/50 focus-visible:ring-[3px] dark:aria-invalid:ring-[--destructive]/40 transition-[color,box-shadow] overflow-hidden border-transparent bg-[--primary] text-[--primary-foreground] [a&]:hover:bg-[--primary]/90\">\n                ${isActive ? \"Active\" : \"inactive\"}\n              </span>\n            </div>\n          </td>\n          <td data-label=\"Last Login\" class=\"td text-gray-600\">${user.createdAt.slice(0, 10) + \" , \" + user.createdAt.slice(11, 16)}</td>\n          <td data-label=\"Actions\" class=\"text-foreground h-10 px-2 align-middle font-medium whitespace-nowrap text-right\">\n            <div class=\"flex items-center justify-end space-x-2\">\n              <button class=\"edit-btn inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-[--ring] focus-visible:ring-[#a1a1a1]/50 focus-visible:ring-[3px] aria-invalid:border-[--destructive] hover:bg-[--accent] hover:text-[--accent-foreground] dark:hover:bg-[--accent]/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\" data-id=\"${user.id}\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-square-pen w-4 h-4\" aria-hidden=\"true\"><path d=\"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path><path d=\"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z\"></path></svg>\n              </button>\n              <button data-name=\"${user.name}\" class=\"delete-btn inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-[--ring] focus-visible:ring-[#a1a1a1]/50 focus-visible:ring-[3px] hover:bg-[--accent] hover:text-[--accent-foreground] dark:hover:bg-[--accent]/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\" data-id=\"${user.id}\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-trash2 lucide-trash-2 w-4 h-4 text-red-500\" aria-hidden=\"true\"><path d=\"M10 11v6\"></path><path d=\"M14 11v6\"></path><path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6\"></path><path d=\"M3 6h18\"></path><path d=\"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path></svg>\n              </button>\n            </div>\n          </td>\n        </tr>\n      `;\n      });\n      this.userTableBody.innerHTML = rowsHtml.join(\"\");\n    } catch (error) {\n      this.userTableBody.innerHTML = `<tr><td colspan=\"9\" class=\"text-center p-4\">No users found.</td></tr>`;\n    }\n  }\n\n  handlePageNumberClick(event) {\n    const pageButton = event.target.closest(\".page-number-btn\");\n    if (pageButton) {\n      const page = parseInt(pageButton.dataset.page);\n      this.goToPage(page);\n    }\n  }\n  goToPrevPage() {\n    if (this.currentPage > 1) {\n      this.goToPage(this.currentPage - 1);\n    }\n  }\n  goToNextPage() {\n    const totalPages = Math.ceil(this.totalUsers / this.itemsPerPage);\n    if (this.currentPage < totalPages) {\n      this.goToPage(this.currentPage + 1);\n    }\n  }\n  goToPage(page) {\n    this.currentPage = page;\n    this.displayUsers();\n  }\n  renderPagination() {\n    const totalPages = Math.ceil(this.totalUsers / this.itemsPerPage);\n    this.pageButtonsContainer.innerHTML = \"\";\n\n    // تولید دکمه‌های شماره صفحات\n    for (let i = 1; i <= totalPages; i++) {\n      const button = document.createElement(\"button\");\n      button.textContent = i;\n      button.dataset.page = i;\n      button.className = `pagination-button page-number-btn ${i === this.currentPage ? \"bg-gray-200\" : \"\"}`;\n      this.pageButtonsContainer.appendChild(button);\n    }\n\n    // فعال/غیرفعال کردن دکمه‌های Next/Previous\n    this.prevBtn.disabled = this.currentPage === 1;\n    this.nextBtn.disabled = this.currentPage === totalPages || totalPages === 0;\n\n    // به‌روزرسانی خلاصه pagination\n    if (this.totalUsers === 0) {\n      this.paginationSummary.textContent = `Showing 0 – 0 of 0 users`;\n    } else {\n      const start = (this.currentPage - 1) * this.itemsPerPage + 1 || 1;\n      const end =\n        Math.min(start + this.itemsPerPage - 1, this.totalUsers) ||\n        this.totalUsers;\n      this.paginationSummary.textContent = `Showing ${this.totalUsers > 0 ? start : 0} – ${end} of ${this.totalUsers} users`;\n    }\n  }\n\n  async handleFormSubmit(event) {\n    event.preventDefault();\n\n    const statusValue = document.getElementById(\"status-in-modal\").value;\n    console.log(statusValue);\n\n    const formData = {\n      name: document.getElementById(\"fullName\").value,\n      email: document.getElementById(\"email\").value,\n      phone: document.getElementById(\"phone\").value,\n      role:\n        document.getElementById(\"role\").value === \"Select a role\"\n          ? \"user\"\n          : document.getElementById(\"role\").value,\n      status: statusValue === \"true\",\n    };\n    this.submitButton.disabled = true;\n\n    if (this.isEditMode) {\n      await this.userService.updateUser(this.editingUserId, formData);\n    } else {\n      await this.userService.addUser(formData);\n      this.currentPage = Math.ceil((this.totalUsers + 1) / this.itemsPerPage);\n    }\n\n    this.submitButton.disabled = false;\n    this.closeModal();\n    await this.displayUsers();\n  }\n  async handleTableClick(event) {\n    const editBtn = event.target.closest(\".edit-btn\");\n    const deleteBtn = event.target.closest(\".delete-btn\");\n    const switchInput = event.target.closest(\".switch-btn\");\n\n    if (editBtn) {\n      const userId = editBtn.dataset.id;\n      this.openModal(\"edit\", userId);\n      return;\n    }\n\n    if (deleteBtn) {\n      const userId = deleteBtn.dataset.id;\n      const userName = deleteBtn.dataset.name;\n      if (confirm(`Are you sure you want to delete ${userName}?`)) {\n        await this.userService.deleteUser(userId);\n        await this.displayUsers();\n      }\n      return;\n    }\n\n    if (switchInput) {\n      const userId = switchInput.dataset.id;\n      const newStatus = switchInput.checked;\n      const userName = switchInput.dataset.name;\n      if (\n        confirm(\n          `Are you sure you want to ${newStatus ? \"Active\" : \"Inactive\"} ${userName} ?`\n        )\n      ) {\n        await this.userService.updateUser(userId, { status: newStatus });\n\n        await this.displayUsers();\n      } else {\n        switchInput.checked = !newStatus;\n      }\n      return;\n    }\n  }\n  _handleRowSelection(checkbox) {\n    const userId = checkbox.dataset.userId;\n    const isChecked = checkbox.checked;\n\n    if (isChecked) {\n      this.selectedUserIds.add(userId);\n    } else {\n      this.selectedUserIds.delete(userId);\n    }\n  }\n  // _extractSelectedUsers() {\n  //   // تمام چک‌باکس‌هایی که تیک خورده‌اند را پیدا کن\n  //   const checkedBoxes = document.querySelectorAll(\".row-checkbox:checked\");\n\n  //   if (checkedBoxes.length === 0) {\n  //     alert(\"Please select at least one user to extract.\");\n  //     return;\n  //   }\n\n  //   // ID تمام کاربران انتخاب شده را استخراج کن\n  //   const selectedUserIds = Array.from(checkedBoxes).map(\n  //     (checkbox) => checkbox.dataset.userId\n  //   );\n\n  //   // حالا آبجکت کامل کاربران انتخاب شده را از لیستی که قبلا ذخیره کردیم، پیدا کن\n  //   const usersToExport = this.displayedUsers.filter((user) =>\n  //     selectedUserIds.includes(user.id)\n  //   );\n\n  //   // (اختیاری) می‌توانید انتخاب کنید کدام ستون‌ها را می‌خواهید استخراج کنید\n  //   const dataForSheet = usersToExport.map((user) => ({\n  //     Name: user.name,\n  //     Email: user.email,\n  //     Phone: user.phone,\n  //     Role: user.role,\n  //     Status: user.status ? \"Active\" : \"Inactive\",\n  //     \"Created At\": new Date(user.createdAt).toLocaleString(),\n  //   }));\n\n  //   // --- استفاده از کتابخانه SheetJS ---\n\n  //   // ۱. ساخت یک Worksheet از روی داده‌های JSON\n  //   const worksheet = XLSX.utils.json_to_sheet(dataForSheet);\n\n  //   // ۲. ساخت یک Workbook جدید\n  //   const workbook = XLSX.utils.book_new();\n\n  //   // ۳. اضافه کردن Worksheet به Workbook\n  //   XLSX.utils.book_append_sheet(workbook, worksheet, \"Users\"); // \"Users\" نام شیت در فایل اکسل خواهد بود\n\n  //   // ۴. تولید و دانلود فایل Excel\n  //   // نام فایل را می‌توان به صورت داینامیک تولید کرد\n  //   XLSX.writeFile(workbook, `Users-Export-${Date.now()}.xlsx`);\n  // }\n  _extractSelectedUsers() {\n    const checkedBoxes = document.querySelectorAll(\".row-checkbox:checked\");\n\n    if (checkedBoxes.length === 0) {\n      alert(\"Please select at least one user to extract.\");\n      return;\n    }\n\n    const selectedUserIds = Array.from(checkedBoxes).map(\n      (checkbox) => checkbox.dataset.userId\n    );\n\n    const usersToExport = this.displayedUsers.filter((user) =>\n      selectedUserIds.includes(user.id)\n    );\n\n    const dataToExport = usersToExport.map((user) => ({\n      Name: user.name,\n      Email: user.email,\n      Phone: user.phone,\n      Role: user.role,\n      Status: user.status ? \"Active\" : \"Inactive\",\n      CreatedAt: new Date(user.createdAt).toLocaleString(),\n    }));\n\n    const jsonStr = JSON.stringify(dataToExport, null, 2);\n    const blob = new Blob([jsonStr], { type: \"application/json\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `users-export-${Date.now()}.json`;\n    document.body.appendChild(a);\n    a.click();\n    a.remove();\n    URL.revokeObjectURL(url);\n  }\n  _handleSelectAll(event) {\n    const isChecked = event.target.checked;\n\n    // تمام چک‌باکس‌های ردیف‌ها که در حال حاضر در صفحه هستند را پیدا کن.\n    const allRowCheckboxes =\n      this.userTableBody.querySelectorAll(\".row-checkbox\");\n\n    allRowCheckboxes.forEach((checkbox) => {\n      // وضعیت هر چک‌باکس ردیف را با وضعیت چک‌باکس هدر یکسان کن.\n      checkbox.checked = isChecked;\n\n      const userId = checkbox.dataset.userId;\n\n      // \"حافظه\" اصلی برنامه را هم آپدیت کن.\n      if (isChecked) {\n        this.selectedUserIds.add(userId);\n      } else {\n        this.selectedUserIds.delete(userId);\n      }\n    });\n\n    console.log(\"Selected IDs after Select All:\", this.selectedUserIds);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))"],"names":["document","addEventListener","userService","UserService","App","constructor","apiUrl","this","getUsers","page","limit","filters","sort","console","log","url","URL","searchParams","append","search","role","status","sortBy","order","response","fetch","toString","users","json","countUrl","allUsersResponse","allUsers","totalCount","Array","isArray","length","error","findUserById","userId","addUser","userData","method","headers","body","JSON","stringify","updateUser","deleteUser","ok","selectedUserIds","Set","displayedUsers","currentPage","itemsPerPage","totalUsers","isEditMode","editingUserId","currentFilters","currentSort","_initDOMElements","_initEventListeners","displayUsers","selectAllCheckbox","getElementById","extractBtn","perPage","searchInput","rolesFilter","statusFilter","addUserBtn","userModal","userForm","modalTitle","querySelector","submitButton","closeFormBtn","cancelBtn","userTableBody","prevBtn","nextBtn","pageButtonsContainer","paginationSummary","event","_handleSelectAll","_extractSelectedUsers","e","_ItemsPerPage","_handleSort","func","timeoutId","args","clearTimeout","setTimeout","apply","debounce","_handleFilterChange","openModal","closeModal","target","handleFormSubmit","handleTableClick","goToPrevPage","goToNextPage","handlePageNumberClick","classList","contains","_handleRowSelection","value","split","selectElement","filterKey","name","filterValue","trim","mode","reset","textContent","userToEdit","email","phone","remove","add","innerHTML","goToPage","renderPagination","updateTable","rowsHtml","map","user","isActive","initials","n","join","toUpperCase","id","has","charAt","slice","createdAt","pageButton","closest","parseInt","dataset","totalPages","Math","ceil","i","button","createElement","className","appendChild","disabled","start","end","min","preventDefault","statusValue","formData","editBtn","deleteBtn","switchInput","userName","confirm","newStatus","checked","checkbox","delete","checkedBoxes","querySelectorAll","alert","from","dataToExport","filter","includes","Name","Email","Phone","Role","Status","CreatedAt","Date","toLocaleString","jsonStr","blob","Blob","type","createObjectURL","a","href","download","now","click","revokeObjectURL","isChecked","forEach","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","getter","__esModule","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call"],"ignoreList":[],"sourceRoot":""}