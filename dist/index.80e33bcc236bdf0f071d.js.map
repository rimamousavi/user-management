{"version":3,"file":"index.80e33bcc236bdf0f071d.js","mappings":"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","sources":["webpack://user-management/./src/js/app.js","webpack://user-management/webpack/bootstrap","webpack://user-management/webpack/runtime/compat get default export","webpack://user-management/webpack/runtime/define property getters","webpack://user-management/webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["function debounce(func, delay) {\r\n  let timeoutId;\r\n\r\n  // تابع جدیدی که برگردانده می‌شود\r\n  return function (...args) {\r\n    // هر بار که این تابع (مثلا با هر بار تایپ) اجرا می‌شود،\r\n    // تایمر قبلی را پاک می‌کنیم.\r\n    clearTimeout(timeoutId);\r\n\r\n    // یک تایمر جدید تنظیم می‌کنیم.\r\n    timeoutId = setTimeout(() => {\r\n      // فقط زمانی که تایمر تمام شد (یعنی کاربر تایپ را متوقف کرد)،\r\n      // تابع اصلی (func) را اجرا کن.\r\n      func.apply(this, args);\r\n    }, delay);\r\n  };\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const API_URL = \"https://693e775f12c964ee6b6d71d4.mockapi.io/api/v1/users\";\r\n\r\n  const userService = new UserService(API_URL);\r\n\r\n  new App(userService);\r\n});\r\n\r\nclass UserService {\r\n  constructor(apiUrl) {\r\n    this.apiUrl = apiUrl;\r\n  }\r\n\r\n  async getUsers(page, limit, filters, sort) {\r\n    console.log(sort);\r\n    // شروع یک بلوک try-catch برای مدیریت خطاهای احتمالی (مانند قطع بودن شبکه).\r\n    try {\r\n      // ---- مرحله ۱: دریافت کاربران برای نمایش در صفحه فعلی ----\r\n\r\n      // یک آبجکت URL از آدرس پایه API می‌سازیم تا بتوانیم پارامترها را به راحتی به آن اضافه کنیم.\r\n      const url = new URL(this.apiUrl);\r\n      if (limit !== \"all\") {\r\n        // اگر شماره صفحه‌ای (page) به تابع داده شده، آن را به عنوان پارامتر به URL اضافه کن (مثلاً: ?page=2).\r\n        if (page) url.searchParams.append(\"page\", page);\r\n\r\n        // اگر محدودیتی (limit) برای تعداد آیتم‌ها در هر صفحه داده شده، آن را هم به URL اضافه کن (مثلاً: &limit=5).\r\n        if (limit) url.searchParams.append(\"limit\", limit);\r\n      }\r\n\r\n      // (کد محافظ) اگر هیچ فیلتری به تابع پاس داده نشده بود (مقدارش undefined بود)، آن را به یک آبجکت خالی تبدیل کن تا در خطوط بعدی خطا ندهد.\r\n      filters = filters || {};\r\n\r\n      // اگر در آبجکت فیلترها، مقداری برای 'search' وجود داشت، آن را به پارامترهای URL اضافه کن.\r\n      if (filters.search) url.searchParams.append(\"search\", filters.search);\r\n\r\n      // اگر در آبجکت فیلترها، مقداری برای 'role' وجود داشت، آن را به پارامترهای URL اضافه کن.\r\n      if (filters.role) url.searchParams.append(\"role\", filters.role);\r\n\r\n      // اگر در آبجکت فیلترها، مقداری برای 'status' وجود داشت، آن را به پارامترهای URL اضافه کن.\r\n      if (filters.status) url.searchParams.append(\"status\", filters.status);\r\n\r\n      // این پارامترها فقط روی fetch اول تاثیر دارند، چون ترتیب در شمارش کل مهم نیست.\r\n      if (sort && sort.sortBy) {\r\n        url.searchParams.append(\"sortBy\", sort.sortBy);\r\n        // پارامتر order اختیاری است، اما ما آن را هم اضافه می‌کنیم.\r\n        if (sort.order) {\r\n          url.searchParams.append(\"order\", sort.order);\r\n        }\r\n      }\r\n\r\n      // درخواست اول را به API ارسال کن (با تمام پارامترها) و منتظر پاسخ بمان.\r\n      const response = await fetch(url.toString());\r\n\r\n      // پاسخ را از فرمت JSON به یک آرایه جاوااسکریپت تبدیل کن. این آرایه فقط شامل کاربران صفحه فعلی است.\r\n      const users = await response.json();\r\n\r\n      // ---- مرحله ۲: محاسبه تعداد کل کاربران منطبق با فیلترها ----\r\n\r\n      // یک آبجکت URL جدید برای درخواست دوم می‌سازیم. این درخواست برای شمارش تعداد کل است.\r\n      const countUrl = new URL(this.apiUrl);\r\n\r\n      // (مهم) دوباره همان فیلترها را روی این URL جدید هم اعمال می‌کنیم تا شمارش ما دقیق باشد.\r\n      // اگر فیلتر 'search' وجود داشت، آن را اضافه کن.\r\n      if (filters.search)\r\n        countUrl.searchParams.append(\"search\", filters.search);\r\n\r\n      // اگر فیلتر 'role' وجود داشت،آن را به پارامترهای URL اضافه کن.\r\n      if (filters.role) countUrl.searchParams.append(\"role\", filters.role);\r\n\r\n      // اگر فیلتر 'status' وجود داشت، آن را به پارامترهای URL اضافه کن.\r\n      if (filters.status)\r\n        countUrl.searchParams.append(\"status\", filters.status);\r\n\r\n      // درخواست دوم را ارسال کن (این بار بدون page و limit) تا *تمام* کاربران منطبق با فیلترها را بگیریم.\r\n      const allUsersResponse = await fetch(countUrl.toString());\r\n\r\n      // پاسخ دوم را به آرایه جاوااسکریپت تبدیل کن. این آرایه شامل همه کاربران فیلتر شده است.\r\n      const allUsers = await allUsersResponse.json();\r\n\r\n      // (محاسبه نهایی) چک کن آیا 'allUsers' یک آرایه است؟ اگر بله، طول (تعداد اعضای) آن را در totalCount بریز. اگر نه، مقدار 0 را قرار بده.\r\n      const totalCount = Array.isArray(allUsers) ? allUsers.length : 0;\r\n\r\n      // یک آبجکت شامل هر دو نتیجه (لیست کاربران صفحه فعلی و تعداد کل) را برگردان.\r\n      return { users, totalCount };\r\n\r\n      // اگر در هر یک از مراحل بالا خطایی رخ داد...\r\n    } catch (error) {\r\n      // خطا را در کنسول نمایش بده تا برنامه‌نویس آن را ببیند.\r\n      console.error(\"Error fetching users:\", error);\r\n\r\n      // یک نتیجه خالی برگردان تا برنامه کرش نکند و UI بتواند وضعیت \"بدون کاربر\" را نمایش دهد.\r\n      return { users: [], totalCount: 0 };\r\n    }\r\n  }\r\n\r\n  async findUserById(userId) {\r\n    try {\r\n      const response = await fetch(`${this.apiUrl}/${userId}`);\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error(\"Error fetching user:\", error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  async addUser(userData) {\r\n    try {\r\n      const response = await fetch(this.apiUrl, {\r\n        method: \"POST\",\r\n        headers: { \"content-type\": \"application/json\" },\r\n        body: JSON.stringify(userData),\r\n      });\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error(\"Error adding user:\", error);\r\n    }\r\n  }\r\n\r\n  async updateUser(userId, userData) {\r\n    try {\r\n      const response = await fetch(`${this.apiUrl}/${userId}`, {\r\n        method: \"PUT\",\r\n        headers: { \"content-type\": \"application/json\" },\r\n        body: JSON.stringify(userData),\r\n      });\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error(\"Error updating user:\", error);\r\n    }\r\n  }\r\n\r\n  async deleteUser(userId) {\r\n    try {\r\n      const response = await fetch(`${this.apiUrl}/${userId}`, {\r\n        method: \"DELETE\",\r\n      });\r\n      return response.ok;\r\n    } catch (error) {\r\n      console.error(\"Error deleting user:\", error);\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\nclass App {\r\n  constructor(userService) {\r\n    this.userService = userService;\r\n    this.displayedUsers = [];\r\n    this.currentPage = 1;\r\n    this.itemsPerPage = 5;\r\n    this.totalUsers = 0;\r\n    this.isEditMode = false;\r\n    this.editingUserId = null;\r\n    this.currentFilters = { search: \"\", role: \"\", status: \"\" };\r\n    this.currentSort = { sortBy: \"createdAt\", order: \"asc\" };\r\n\r\n    this._initDOMElements();\r\n    this._initEventListeners();\r\n    this.displayUsers();\r\n  }\r\n  _initDOMElements() {\r\n    this.extractBtn = document.getElementById(\"extract-btn\");\r\n    this.perPage = document.getElementById(\"per-page\");\r\n    this.sort = document.getElementById(\"sort\");\r\n    this.searchInput = document.getElementById(\"search\");\r\n    this.rolesFilter = document.getElementById(\"roles-filter\");\r\n    this.statusFilter = document.getElementById(\"status-filter\");\r\n    this.addUserBtn = document.getElementById(\"openFormBtn\");\r\n    this.userModal = document.getElementById(\"userModal\");\r\n    this.userForm = document.getElementById(\"userForm\");\r\n    this.modalTitle = this.userModal.querySelector(\"h2\");\r\n    this.submitButton = document.getElementById(\"submit\");\r\n    this.closeFormBtn = document.getElementById(\"closeFormBtn\");\r\n    this.cancelBtn = document.getElementById(\"cancelBtn\");\r\n    this.userTableBody = document.querySelector(\"table tbody\");\r\n    this.prevBtn = document.getElementById(\"prev-btn\");\r\n    this.nextBtn = document.getElementById(\"next-btn\");\r\n    this.pageButtonsContainer = document.getElementById(\r\n      \"page-buttons-container\"\r\n    );\r\n    this.paginationSummary = document.getElementById(\"pagination-summary\");\r\n  }\r\n  _initEventListeners() {\r\n    this.extractBtn.addEventListener(\"click\", () =>\r\n      this._extractSelectedUsers()\r\n    );\r\n    this.perPage.addEventListener(\"change\", (e) => this._ItemsPerPage(e));\r\n    this.sort.addEventListener(\"change\", (e) => this._handleSort(e));\r\n    this.searchInput.addEventListener(\r\n      \"input\",\r\n      debounce((e) => this._handleSearch(e), 800)\r\n    );\r\n    this.rolesFilter.addEventListener(\"change\", (e) => this.RolesFilter(e));\r\n    this.statusFilter.addEventListener(\"change\", (e) => this.StatusFilter(e));\r\n    this.addUserBtn.addEventListener(\"click\", () => this.openModal(\"add\"));\r\n    this.closeFormBtn.addEventListener(\"click\", () => this.closeModal());\r\n    this.cancelBtn.addEventListener(\"click\", () => this.closeModal());\r\n    this.userModal.addEventListener(\"click\", (e) => {\r\n      if (e.target === this.userModal) this.closeModal();\r\n    });\r\n    this.userForm.addEventListener(\"submit\", (e) => this.handleFormSubmit(e));\r\n    this.userTableBody.addEventListener(\"click\", (e) =>\r\n      this.handleTableClick(e)\r\n    );\r\n    this.prevBtn.addEventListener(\"click\", () => this.goToPrevPage());\r\n    this.nextBtn.addEventListener(\"click\", () => this.goToNextPage());\r\n    this.pageButtonsContainer.addEventListener(\"click\", (e) =>\r\n      this.handlePageNumberClick(e)\r\n    );\r\n  }\r\n  extractUsers(e) {\r\n    const value = e.target.value || \"\";\r\n  }\r\n  _handleSort(e) {\r\n    const value = e.target.value;\r\n    console.log(value.split(\"_\"));\r\n\r\n    const [sortBy, order] = value.split(\"_\");\r\n    this.currentSort = { sortBy, order };\r\n    this.currentPage = 1;\r\n    this.displayUsers();\r\n  }\r\n  _handleSearch(e) {\r\n    const searchTerm = e.target.value.trim();\r\n    this.currentFilters.search = searchTerm;\r\n    this.currentPage = 1;\r\n    this.displayUsers();\r\n  }\r\n  RolesFilter(e) {\r\n    // پیاده‌سازی فیلتر بر اساس نقش کاربر\r\n    this.currentFilters.role = e.target.value || \"\";\r\n\r\n    this.currentPage = 1;\r\n    this.displayUsers();\r\n  }\r\n  StatusFilter(e) {\r\n    const value = e.target.value || \"\";\r\n    this.currentFilters.status = value;\r\n    console.log(\"Filter set to:\", this.currentFilters.status);\r\n    this.currentPage = 1;\r\n    this.displayUsers();\r\n  }\r\n  _ItemsPerPage(e) {\r\n    try {\r\n      const value = e.target.value;\r\n      console.log(value);\r\n      this.itemsPerPage = value;\r\n      this.currentPage = 1;\r\n      this.displayUsers();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  async openModal(mode, userId = null) {\r\n    this.isEditMode = mode === \"edit\";\r\n    this.editingUserId = userId;\r\n    this.userForm.reset();\r\n\r\n    if (this.isEditMode) {\r\n      this.modalTitle.textContent = \"Edit User\";\r\n      this.submitButton.textContent = \"Save Changes\";\r\n      const userToEdit = await this.userService.findUserById(userId);\r\n      if (userToEdit) {\r\n        document.getElementById(\"fullName\").value = userToEdit.name;\r\n        document.getElementById(\"email\").value = userToEdit.email;\r\n        document.getElementById(\"phone\").value = userToEdit.phone;\r\n        document.getElementById(\"role\").value = userToEdit.role;\r\n        document.getElementById(\"status-in-modal\").value = userToEdit.status;\r\n      }\r\n    } else {\r\n      this.modalTitle.textContent = \"Add New User\";\r\n      this.submitButton.textContent = \"Add User\";\r\n    }\r\n    this.userModal.classList.remove(\"hidden\");\r\n  }\r\n  closeModal() {\r\n    this.userModal.classList.add(\"hidden\");\r\n  }\r\n  async displayUsers() {\r\n    this.userTableBody.innerHTML = `<tr><td colspan=\"9\" class=\"text-center p-4\">Loading...</td></tr>`;\r\n    const { users, totalCount } = await this.userService.getUsers(\r\n      this.currentPage,\r\n      this.itemsPerPage,\r\n      this.currentFilters,\r\n      this.currentSort\r\n    );\r\n    this.displayedUsers = users;\r\n    this.totalUsers = totalCount;\r\n\r\n    if (users.length === 0 && this.currentPage > 1) {\r\n      this.goToPage(this.currentPage - 1);\r\n      return;\r\n    }\r\n    if (users.length === 0) {\r\n      this.userTableBody.innerHTML = `<tr><td colspan=\"9\" class=\"text-center p-4\">No users found.</td></tr>`;\r\n      this.renderPagination();\r\n      return;\r\n    }\r\n    this.updateTable(users);\r\n    this.renderPagination();\r\n  }\r\n  updateTable(users) {\r\n    try {\r\n      if (!users && users.length === 0) {\r\n        this.userTableBody.innerHTML = `<tr><td colspan=\"9\" class=\"text-center p-4\">No users found.</td></tr>`;\r\n        return;\r\n      }\r\n\r\n      const rowsHtml = users?.map((user) => {\r\n        const isActive = user.status === true;\r\n        const initials = user.name\r\n          .split(\" \")\r\n          .map((n) => n[0])\r\n          .join(\"\")\r\n          .toUpperCase();\r\n\r\n        return `\r\n        <tr class=\"hover:bg-gray-50 [&_tr:last-child]:border-0\">\r\n          <td class=\"td\">\r\n            <label class=\"check-container\">\r\n              <input data-user-id=\"${user.id}\" type=\"checkbox\"  class=\"row-checkbox\" />\r\n              <span class=\"checkbox\"></span>\r\n            </label>\r\n          </td>\r\n          <td class=\"text-left p-4 text-sm font-light td\">\r\n            <span class=\"relative flex size-10 shrink-0 overflow-hidden rounded-full w-8 h-8\">\r\n              <span class=\"bg-[--muted] flex size-full items-center justify-center rounded-full\">${initials}</span>\r\n            </span>\r\n          </td>\r\n          <td class=\"td font-medium\">${user.name}</td>\r\n          <td class=\"td text-gray-600\">${user.email}</td>\r\n          <td class=\"td text-gray-600\">${user.phone}</td>\r\n          <td class=\"td\">\r\n            <span class=\"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 gap-1 focus-visible:border-[--ring] focus-visible:ring-[#a1a1a1]/50 focus-visible:ring-[3px] transition-[color,box-shadow] overflow-hidden border-transparent bg-[--primary] text-[--primary-foreground] [a&]:hover:bg-[--primary]/90\">\r\n              ${user.role.charAt(0).toUpperCase() + user.role.slice(1)}\r\n            </span>\r\n          </td>\r\n          <td class=\"td\">\r\n            <div class=\"flex items-center space-x-2\">\r\n              <label class=\"switch\">\r\n                <input data-id=\"${user.id}\" data-name=\"${user.name}\"  class=\"switch-btn\" type=\"checkbox\" ${isActive ? \"checked\" : \" \"} />\r\n                <span class=\"slider round\"></span>\r\n              </label>\r\n              <span class=\"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 gap-1 focus-visible:border-[--ring] focus-visible:ring-[#a1a1a1]/50 focus-visible:ring-[3px] dark:aria-invalid:ring-[--destructive]/40 transition-[color,box-shadow] overflow-hidden border-transparent bg-[--primary] text-[--primary-foreground] [a&]:hover:bg-[--primary]/90\">\r\n                ${isActive ? \"Active\" : \"inactive\"}\r\n              </span>\r\n            </div>\r\n          </td>\r\n          <td class=\"td text-gray-600\">${user.createdAt}</td>\r\n          <td class=\"text-foreground h-10 px-2 align-middle font-medium whitespace-nowrap text-right\">\r\n            <div class=\"flex items-center justify-end space-x-2\">\r\n              <button class=\"edit-btn inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-[--ring] focus-visible:ring-[#a1a1a1]/50 focus-visible:ring-[3px] aria-invalid:border-[--destructive] hover:bg-[--accent] hover:text-[--accent-foreground] dark:hover:bg-[--accent]/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\" data-id=\"${user.id}\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-square-pen w-4 h-4\" aria-hidden=\"true\">\r\n                  <path d=\"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\r\n                  <path d=\"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z\"></path>\r\n                </svg>\r\n              </button>\r\n              <button class=\"delete-btn inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-[--ring] focus-visible:ring-[#a1a1a1]/50 focus-visible:ring-[3px] hover:bg-[--accent] hover:text-[--accent-foreground] dark:hover:bg-[--accent]/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\" data-id=\"${user.id}\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-trash2 lucide-trash-2 w-4 h-4 text-red-500\" aria-hidden=\"true\">\r\n                  <path d=\"M10 11v6\"></path>\r\n                  <path d=\"M14 11v6\"></path>\r\n                  <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6\"></path>\r\n                  <path d=\"M3 6h18\"></path>\r\n                  <path d=\"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      `;\r\n      });\r\n      this.userTableBody.innerHTML = rowsHtml.join(\"\");\r\n    } catch (error) {\r\n      this.userTableBody.innerHTML = `<tr><td colspan=\"9\" class=\"text-center p-4\">No users found.</td></tr>`;\r\n    }\r\n  }\r\n  // --- Pagination ---\r\n\r\n  handlePageNumberClick(event) {\r\n    const pageButton = event.target.closest(\".page-number-btn\");\r\n    if (pageButton) {\r\n      const page = parseInt(pageButton.dataset.page);\r\n      this.goToPage(page);\r\n    }\r\n  }\r\n  goToPrevPage() {\r\n    if (this.currentPage > 1) {\r\n      this.goToPage(this.currentPage - 1);\r\n    }\r\n  }\r\n  goToNextPage() {\r\n    const totalPages = Math.ceil(this.totalUsers / this.itemsPerPage);\r\n    if (this.currentPage < totalPages) {\r\n      this.goToPage(this.currentPage + 1);\r\n    }\r\n  }\r\n  goToPage(page) {\r\n    this.currentPage = page;\r\n    this.displayUsers();\r\n  }\r\n  renderPagination() {\r\n    const totalPages = Math.ceil(this.totalUsers / this.itemsPerPage);\r\n    this.pageButtonsContainer.innerHTML = \"\";\r\n\r\n    // تولید دکمه‌های شماره صفحات\r\n    for (let i = 1; i <= totalPages; i++) {\r\n      const button = document.createElement(\"button\");\r\n      button.textContent = i;\r\n      button.dataset.page = i;\r\n      button.className = `pagination-button page-number-btn ${i === this.currentPage ? \"bg-gray-200\" : \"\"}`;\r\n      this.pageButtonsContainer.appendChild(button);\r\n    }\r\n\r\n    // فعال/غیرفعال کردن دکمه‌های Next/Previous\r\n    this.prevBtn.disabled = this.currentPage === 1;\r\n    this.nextBtn.disabled = this.currentPage === totalPages || totalPages === 0;\r\n\r\n    // به‌روزرسانی خلاصه pagination\r\n    const start = (this.currentPage - 1) * this.itemsPerPage + 1 || 1;\r\n    const end =\r\n      Math.min(start + this.itemsPerPage - 1, this.totalUsers) ||\r\n      this.totalUsers;\r\n    this.paginationSummary.textContent = `Showing ${this.totalUsers > 0 ? start : 0} – ${end} of ${this.totalUsers} users`;\r\n  }\r\n\r\n  async handleFormSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    const statusValue = document.getElementById(\"status-in-modal\").value;\r\n    console.log(statusValue);\r\n\r\n    const formData = {\r\n      name: document.getElementById(\"fullName\").value,\r\n      email: document.getElementById(\"email\").value,\r\n      phone: document.getElementById(\"phone\").value,\r\n      role:\r\n        document.getElementById(\"role\").value === \"Select a role\"\r\n          ? \"user\"\r\n          : document.getElementById(\"role\").value,\r\n      status: statusValue === \"true\",\r\n    };\r\n    this.submitButton.disabled = true;\r\n\r\n    if (this.isEditMode) {\r\n      await this.userService.updateUser(this.editingUserId, formData);\r\n    } else {\r\n      await this.userService.addUser(formData);\r\n      this.currentPage = Math.ceil((this.totalUsers + 1) / this.itemsPerPage);\r\n    }\r\n\r\n    this.submitButton.disabled = false;\r\n    this.closeModal();\r\n    await this.displayUsers();\r\n  }\r\n  async handleTableClick(event) {\r\n    const editBtn = event.target.closest(\".edit-btn\");\r\n    const deleteBtn = event.target.closest(\".delete-btn\");\r\n    const switchInput = event.target.closest(\".switch-btn\");\r\n\r\n    if (editBtn) {\r\n      const userId = editBtn.dataset.id;\r\n      this.openModal(\"edit\", userId);\r\n      return;\r\n    }\r\n\r\n    if (deleteBtn) {\r\n      const userId = deleteBtn.dataset.id;\r\n      if (confirm(\"Are you sure you want to delete this user?\")) {\r\n        await this.userService.deleteUser(userId);\r\n        await this.displayUsers();\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (switchInput) {\r\n      const userId = switchInput.dataset.id;\r\n      const newStatus = switchInput.checked;\r\n      const userName = switchInput.dataset.name;\r\n      if (\r\n        confirm(\r\n          `Are you sure you want to ${newStatus ? \"Active\" : \"Inactive\"} ${userName} ?`\r\n        )\r\n      ) {\r\n        await this.userService.updateUser(userId, { status: newStatus });\r\n\r\n        await this.displayUsers();\r\n      } else {\r\n        switchInput.checked = !newStatus;\r\n      }\r\n      return;\r\n    }\r\n  }\r\n  _extractSelectedUsers() {\r\n    // تمام چک‌باکس‌هایی که تیک خورده‌اند را پیدا کن\r\n    const checkedBoxes = document.querySelectorAll(\".row-checkbox:checked\");\r\n\r\n    if (checkedBoxes.length === 0) {\r\n      alert(\"Please select at least one user to extract.\");\r\n      return;\r\n    }\r\n\r\n    // ID تمام کاربران انتخاب شده را استخراج کن\r\n    const selectedUserIds = Array.from(checkedBoxes).map(\r\n      (checkbox) => checkbox.dataset.userId\r\n    );\r\n\r\n    // حالا آبجکت کامل کاربران انتخاب شده را از لیستی که قبلا ذخیره کردیم، پیدا کن\r\n    const usersToExport = this.displayedUsers.filter((user) =>\r\n      selectedUserIds.includes(user.id)\r\n    );\r\n\r\n    // (اختیاری) می‌توانید انتخاب کنید کدام ستون‌ها را می‌خواهید استخراج کنید\r\n    const dataForSheet = usersToExport.map((user) => ({\r\n      Name: user.name,\r\n      Email: user.email,\r\n      Phone: user.phone,\r\n      Role: user.role,\r\n      Status: user.status ? \"Active\" : \"Inactive\",\r\n      \"Created At\": new Date(user.createdAt).toLocaleString(),\r\n    }));\r\n\r\n    // --- استفاده از کتابخانه SheetJS ---\r\n\r\n    // ۱. ساخت یک Worksheet از روی داده‌های JSON\r\n    const worksheet = XLSX.utils.json_to_sheet(dataForSheet);\r\n\r\n    // ۲. ساخت یک Workbook جدید\r\n    const workbook = XLSX.utils.book_new();\r\n\r\n    // ۳. اضافه کردن Worksheet به Workbook\r\n    XLSX.utils.book_append_sheet(workbook, worksheet, \"Users\"); // \"Users\" نام شیت در فایل اکسل خواهد بود\r\n\r\n    // ۴. تولید و دانلود فایل Excel\r\n    // نام فایل را می‌توان به صورت داینامیک تولید کرد\r\n    XLSX.writeFile(workbook, `Users-Export-${Date.now()}.xlsx`);\r\n  }\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))"],"names":["document","addEventListener","userService","UserService","App","constructor","apiUrl","this","getUsers","page","limit","filters","sort","console","log","url","URL","searchParams","append","search","role","status","sortBy","order","response","fetch","toString","users","json","countUrl","allUsersResponse","allUsers","totalCount","Array","isArray","length","error","findUserById","userId","addUser","userData","method","headers","body","JSON","stringify","updateUser","deleteUser","ok","displayedUsers","currentPage","itemsPerPage","totalUsers","isEditMode","editingUserId","currentFilters","currentSort","_initDOMElements","_initEventListeners","displayUsers","extractBtn","getElementById","perPage","searchInput","rolesFilter","statusFilter","addUserBtn","userModal","userForm","modalTitle","querySelector","submitButton","closeFormBtn","cancelBtn","userTableBody","prevBtn","nextBtn","pageButtonsContainer","paginationSummary","_extractSelectedUsers","e","_ItemsPerPage","_handleSort","func","timeoutId","args","clearTimeout","setTimeout","apply","debounce","_handleSearch","RolesFilter","StatusFilter","openModal","closeModal","target","handleFormSubmit","handleTableClick","goToPrevPage","goToNextPage","handlePageNumberClick","extractUsers","value","split","searchTerm","trim","mode","reset","textContent","userToEdit","name","email","phone","classList","remove","add","innerHTML","goToPage","renderPagination","updateTable","rowsHtml","map","user","isActive","initials","n","join","toUpperCase","id","charAt","slice","createdAt","event","pageButton","closest","parseInt","dataset","totalPages","Math","ceil","i","button","createElement","className","appendChild","disabled","start","end","min","preventDefault","statusValue","formData","editBtn","deleteBtn","switchInput","confirm","newStatus","checked","userName","checkedBoxes","querySelectorAll","alert","selectedUserIds","from","checkbox","dataForSheet","filter","includes","Name","Email","Phone","Role","Status","Date","toLocaleString","worksheet","XLSX","utils","json_to_sheet","workbook","book_new","book_append_sheet","writeFile","now","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call"],"ignoreList":[],"sourceRoot":""}