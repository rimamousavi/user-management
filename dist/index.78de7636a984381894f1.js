(()=>{var e={393:()=>{document.addEventListener("DOMContentLoaded",()=>{const s=new e("https://693e775f12c964ee6b6d71d4.mockapi.io/api/v1/users");new t(s)});class e{constructor(e){this.apiUrl=e}async getUsers(e=1,t=5){try{const s=await fetch(`${this.apiUrl}?page=${e}&limit=${t}`);return console.error("user loaded"),await s.json()}catch(e){return console.error("Error fetching users:",e),[]}}async findUserById(e){try{const t=await fetch(`${this.apiUrl}/${e}`);return await t.json()}catch(e){return console.error("Error fetching user:",e),null}}async addUser(e){try{const t=await fetch(this.apiUrl,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)});return console.log("User added successfully to mockapi.io"),await t.json()}catch(e){console.error("Error adding user:",e)}}async updateUser(e,t){try{const s=await fetch(`${this.apiUrl}/${e}`,{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(t)});return console.log("User updated successfully on mockapi.io"),await s.json()}catch(e){console.error("Error updating user:",e)}}async deleteUser(e){try{return 204===(await fetch(`${this.apiUrl}/${e}`,{method:"DELETE"})).status&&(console.log("User deleted successfully on mockapi.io"),!0)}catch(e){return console.error("Error deleting user:",e),!1}}}class t{constructor(e){this.userService=e,this.currentPage=1,this.itemsPerPage=5,this.totalUsers=0,this.isEditMode=!1,this.editingUserId=null,this._initDOMElements(),this._initEventListeners(),this.displayUsers()}_initDOMElements(){this.addUserBtn=document.getElementById("openFormBtn"),this.userModal=document.getElementById("userModal"),this.userForm=document.getElementById("userForm"),this.modalTitle=this.userModal.querySelector("h2"),this.submitButton=document.getElementById("submit"),this.closeFormBtn=document.getElementById("closeFormBtn"),this.cancelBtn=document.getElementById("cancelBtn"),this.userTableBody=document.querySelector("table tbody"),this.prevBtn=document.getElementById("prev-btn"),this.nextBtn=document.getElementById("next-btn"),this.pageButtonsContainer=document.getElementById("page-buttons-container"),this.paginationSummary=document.getElementById("pagination-summary")}_initEventListeners(){this.addUserBtn.addEventListener("click",()=>this.openModal("add")),this.closeFormBtn.addEventListener("click",()=>this.closeModal()),this.cancelBtn.addEventListener("click",()=>this.closeModal()),this.userModal.addEventListener("click",e=>{e.target===this.userModal&&this.closeModal()}),this.userForm.addEventListener("submit",e=>this.handleFormSubmit(e)),this.userTableBody.addEventListener("click",e=>this.handleTableClick(e)),this.prevBtn.addEventListener("click",()=>this.goToPrevPage()),this.nextBtn.addEventListener("click",()=>this.goToNextPage()),this.pageButtonsContainer.addEventListener("click",e=>this.handlePageNumberClick(e))}async openModal(e,t=null){if(this.isEditMode="edit"===e,this.editingUserId=t,this.isEditMode){this.modalTitle.textContent="Edit User",this.submitButton.textContent="Save Changes";const e=await this.userService.findUserById(t);e&&(document.getElementById("fullName").value=e.name,document.getElementById("email").value=e.email,document.getElementById("phone").value=e.phone,document.getElementById("role").value=e.role)}else this.modalTitle.textContent="Add New User",this.submitButton.textContent="Add User",this.userForm.reset();this.userModal.classList.remove("hidden")}closeModal(){this.userModal.classList.add("hidden")}updateUserCount(e){const t=document.querySelector("tfoot p");t&&(t.textContent=`Showing ${e} of ${e} users`)}async displayUsers(){this.userTableBody.innerHTML='<tr><td colspan="9" class="text-center p-4">Loading...</td></tr>';const e=await this.userService.getUsers(this.currentPage,this.itemsPerPage);this.userTableBody.innerHTML="",this.pageInfo&&(this.pageInfo.textContent=`Page ${this.currentPage}`),this.prevBtn&&(this.prevBtn.disabled=1===this.currentPage),this.nextBtn&&(this.nextBtn.disabled=e.length<this.itemsPerPage),0===e.length&&this.currentPage>1?this.goToPrevPage():0!==e.length?e.forEach(e=>{const t=`\n        <tr class="hover:bg-gray-50 [&_tr:last-child]:border-0">\n          <td class="td">\n            <label class="check-container">\n              <input type="checkbox" />\n              <span class="checkbox"></span>\n            </label>\n          </td>\n          <td class="text-left p-4 text-sm font-light td">\n            <span class="relative flex size-10 shrink-0 overflow-hidden rounded-full w-8 h-8">\n              <span class="bg-[--muted] flex size-full items-center justify-center rounded-full">${e.name.split(" ").map(e=>e[0]).join("").toUpperCase()}</span>\n            </span>\n          </td>\n          <td class="td font-medium">${e.name}</td>\n          <td class="td text-gray-600">${e.email}</td>\n          <td class="td text-gray-600">${e.phone}</td>\n          <td class="td">\n            <span class="inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 gap-1 focus-visible:border-[--ring] focus-visible:ring-[#a1a1a1]/50 focus-visible:ring-[3px] transition-[color,box-shadow] overflow-hidden border-transparent bg-[--primary] text-[--primary-foreground] [a&]:hover:bg-[--primary]/90">\n              ${e.role.charAt(0).toUpperCase()+e.role.slice(1)}\n            </span>\n          </td>\n          <td class="td">\n            <div class="flex items-center space-x-2">\n              <label class="switch">\n                <input type="checkbox" checked />\n                <span class="slider round"></span>\n              </label>\n              <span class="inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 gap-1 focus-visible:border-[--ring] focus-visible:ring-[#a1a1a1]/50 focus-visible:ring-[3px] dark:aria-invalid:ring-[--destructive]/40 transition-[color,box-shadow] overflow-hidden border-transparent bg-[--primary] text-[--primary-foreground] [a&]:hover:bg-[--primary]/90">\n                Active\n              </span>\n            </div>\n          </td>\n          <td class="td text-gray-600">${e.createdAt}</td>\n          <td class="text-foreground h-10 px-2 align-middle font-medium whitespace-nowrap text-right">\n            <div class="flex items-center justify-end space-x-2">\n              <button class="edit-btn inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-[--ring] focus-visible:ring-[#a1a1a1]/50 focus-visible:ring-[3px] aria-invalid:border-[--destructive] hover:bg-[--accent] hover:text-[--accent-foreground] dark:hover:bg-[--accent]/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5" data-id="${e.id}">\n                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-square-pen w-4 h-4" aria-hidden="true">\n                  <path d="M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>\n                  <path d="M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"></path>\n                </svg>\n              </button>\n              <button class="delete-btn inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-[--ring] focus-visible:ring-[#a1a1a1]/50 focus-visible:ring-[3px] hover:bg-[--accent] hover:text-[--accent-foreground] dark:hover:bg-[--accent]/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5" data-id="${e.id}">\n                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash2 lucide-trash-2 w-4 h-4 text-red-500" aria-hidden="true">\n                  <path d="M10 11v6"></path>\n                  <path d="M14 11v6"></path>\n                  <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"></path>\n                  <path d="M3 6h18"></path>\n                  <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>\n                </svg>\n              </button>\n            </div>\n          </td>\n        </tr>\n      `;this.userTableBody.innerHTML+=t}):this.userTableBody.innerHTML='<tr><td colspan="9" class="text-center p-4">No users found.</td></tr>'}handlePageNumberClick(e){const t=e.target.closest(".page-number-btn");if(t){const e=parseInt(t.dataset.page);this.goToPage(e)}}goToPrevPage(){this.currentPage>1&&(this.currentPage--,this.displayUsers())}goToNextPage(){this.nextBtn.disabled||(this.currentPage++,this.displayUsers())}goToPage(e){this.currentPage=e,this.displayUsers()}renderPagination(){const e=Math.ceil(this.totalUsers/this.itemsPerPage);this.pageButtonsContainer.innerHTML="";for(let t=1;t<=e;t++){const e=t===this.currentPage,s=document.createElement("button");s.textContent=t,s.dataset.page=t,s.className="pagination-button page-number-btn "+(e?"bg-gray-200":""),this.pageButtonsContainer.appendChild(s)}this.prevBtn.disabled=1===this.currentPage,this.nextBtn.disabled=this.currentPage===e;const t=(this.currentPage-1)*this.itemsPerPage+1,s=t+this.itemsPerPage-1;this.paginationSummary.textContent=`Showing ${t}â€“${Math.min(s,this.totalUsers)} of ${this.totalUsers} users`}async handleFormSubmit(e){e.preventDefault();const t={name:document.getElementById("fullName").value,email:document.getElementById("email").value,phone:document.getElementById("phone").value,role:document.getElementById("role").value};this.submitButton.disabled=!0,this.isEditMode?await this.userService.updateUser(this.editingUserId,t):await this.userService.addUser(t),this.submitButton.disabled=!1,this.closeModal(),await this.displayUsers()}async handleTableClick(e){const t=e.target.closest(".edit-btn"),s=e.target.closest(".delete-btn");if(t){const e=parseInt(t.dataset.id);this.openModal("edit",e)}if(s){const e=parseInt(s.dataset.id);confirm("Are you sure you want to delete this user?")&&(await this.userService.deleteUser(e),await this.displayUsers())}}}}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";s(393)})()})();